# Hash Calculation

In this simple exercise, we'll be going through what Hash values are, the different types of Hashing Algorithms and how they can be calculated.

## What are Hash Values

Hash Values are unique strings of fixed length that are generated by a hash function from any kind of input data.

We use these Hash Values in order to see if the data has been manipulated or if it is intact.

**Hash Function:** A hash function is a one way function that is used to map data of any arbitrary size to a fixed size output.

The hash values that are frequently used are MD5, SHA-1, SHA-2 and SHA-3. We'll look into the differences between them and also how to calculate these hashes with a simple exercise.

Hash Values are used in digital forensics in order to ensure integrity. How does a hash verify the integrity?

Even if a single bit changes in the original string, the entire value of the hash changes.

```shell
Input: "Hello There!"     MD5 Hash: 4545d603b1d1eb9e7611d8897343ec29
Input: "Hello There"      MD5 Hash: 32b170d923b654360f351267bf440045
```

As seen over here, with the simple change of removing an exclamation mark, the entire Value of the MD5 Hash has changed

### MD5

MD5 is, Message Digest 5, is a hash function that takes in any length input and gives out a 128-bit output.

MD5 is not considered secure because there are many hash collisions that can be made due to the small output size.

Even though there are many attacks on MD5, it's still used, but not alone.

### SHA-1

SHA-1, Secure Hash Algorithm, is a hash function that takes in an arbitrary input and gives out a 160-bit output.

This function was also rendered useless after the rise in compute power, and brute forcing collisions became very easy.

### SHA-2

SHA-2 is not one hash algorithm, but it is a family of six different algorithms. Out of these 6 algorithms, SHA-256 is considered the most secure and is used in majority of the SSL Certificates and even crytpocurrency transactions.

SHA-256 outputs a 256-bit output, as the name indicates. Because of the long size of the output, there still have not been any attacks or collisions on SHA-256 yet

### SHA-3

SHA-3 is a more advanced version of the same hashing algorithm, but it uses something called as a Sponge System.

Even though SHA-3 is much more secure and faster than SHA-2, there have been no solid use cases for replacing SHA-2 in our everyday life.

## Fuzzy Hashing

We've spoken about how Hash Values always give an unique output no matter how different or similar the input is.

There are some algorithms that allow us to see how closely related two inputs are. These hash algorithms are called as "Fuzzy Hashes" and are used majorly in Malware Analysis.

One of the Fuzzy Hash Algorithms is **"ssdeep"** and is an algorithm that will create chunks in the input, hash them individually and then put them back together

If two files are given to ssdeep, and there is only one bit which is different, it's going to create hash values that are very similar to each other and also tell how similar the tow input strings are.

There is no _solid_ use case in Digital Forensics apart from Malware Analysis yet, but it can hopefully be used to tell by _how_ much the evidence has been tampered with


## Hands-On

### UNIX Users:

Unix has made it very easy for you to perform all the hash algorithms from the terminal itself and you do not need additional software.

Open a terminal, and run the commands `md5sum` for MD5, `sha256sum` for SHA-256 and so on.

```shell
echo -n Hello There! | md5sum
echo -n Hello There! | sha256sum
```
This will give you the md5sum and sha256sum of a string. Replace "Hello There!" with anything you want to directly hash a string.

When working in Digital Forensics, we do not use strings, we work with files and folders. In order to get the hash value of a file, just pass the file as an input to the algorithm

```shell
md5sum filename # Outputs to stdout

md5sum filename > filename_hash.txt # Outputs to another file
```

### Windows Users:
It is possible to perform Hash Calculation from the terminal itself, but it's a more convoluted command.

```powershell
CertUtil -hashfile filename [HashAlgorithm]
```

This is how you can find the Hash Value of any file in Windows Powershell, but this is much more painful.

In order to find the hash values quickly and easily with a GUI in Windows, install this application called as [HashCalc](https://hashcalc.en.softonic.com/)

In HashCalc, you have a GUI in which you can insert a file or folder and get the output hashes from 13 different algorithms

### Exercise

In the GitHub repository where you are reading this, there are multiple folders. These folder contains its own README files which will give you instructions on what to do to those files and what to submit as the exercise.


> [!WARNING]
> If you are running this on Windows, then your answers will be different from those working on Linux.
This is because Windows handles new line characters differently when compared to Linux, and HashCalc takes into account the File metadata as well to perform hashes, which `openssl` and `md5sum` do not
